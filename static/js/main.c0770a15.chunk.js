(this["webpackJsonpstop-motion"]=this["webpackJsonpstop-motion"]||[]).push([[0],{21:function(e,t,n){},42:function(e,t,n){"use strict";n.r(t);var r=n(0),c=n(1),a=n.n(c),s=n(15),i=n.n(s),o=(n(21),n(2)),u=n.n(o),l=n(7),j=n(3),b=n(8),f=function(e){var t=e.images;return Object(r.jsx)("div",{children:t.map((function(e){return Object(r.jsxs)("div",{className:"image-preview",children:[Object(r.jsx)("img",{src:URL.createObjectURL(e),className:"image-preview__thumbnail",alt:""}),Object(r.jsx)("p",{className:"image-preview__image-name",children:e.name})]},e.name)}))})},d=function(e){var t=e.url;return Object(r.jsxs)("div",{children:[Object(r.jsx)("video",{controls:!0,src:t}),Object(r.jsx)("a",{className:"button button--secondary",href:t,download:!0,children:"Download"})]})},p=function(e){var t=e.progress;return Object(r.jsxs)("p",{children:[t," / 100"]})},m=Object(b.createFFmpeg)({log:!1});var O=function(){var e=Object(c.useState)(!1),t=Object(j.a)(e,2),n=t[0],a=t[1],s=Object(c.useState)([]),i=Object(j.a)(s,2),o=i[0],O=i[1],v=Object(c.useState)(null),h=Object(j.a)(v,2),x=h[0],g=h[1],w=Object(c.useState)(!1),F=Object(j.a)(w,2),y=F[0],S=F[1],L=Object(c.useState)(null),N=Object(j.a)(L,2),C=N[0],k=N[1],_=function(){var e=Object(l.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.load();case 2:m.setProgress((function(e){var t=e.ratio;k(100*t)})),a(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){_()}),[]);var P=function(){var e=Object(l.a)(u.a.mark((function e(){var t,n,r,c,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),t=o.map((function(e){return Object(b.fetchFile)(e)})),e.next=4,Promise.all(t);case 4:for(n=e.sent,r=0;r<n.length;r++)m.FS("writeFile",o[r].name,n[r]);return e.next=8,m.run("-framerate","1","-pattern_type","glob","-i","*.jpg","-c:v","libx264","-vf","scale=1920:1080","out.mp4");case 8:c=m.FS("readFile","out.mp4"),a=URL.createObjectURL(new Blob([c.buffer],{type:"video/mp4"})),g(a),S(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return n?Object(r.jsxs)("div",{className:"flex flex-col items-center w-full h-full",children:[Object(r.jsxs)("div",{children:[Object(r.jsx)("input",{multiple:!0,type:"file",onChange:function(e){return O(Array.from(e.target.files))},className:"button button--primary"}),Object(r.jsx)("button",{onClick:P,disabled:y,className:"button button--secondary "+(y?"button--disabled":""),children:"Convert"})]}),Object(r.jsxs)("div",{children:[C&&Object(r.jsx)(p,{progress:C}),x&&Object(r.jsx)(d,{url:x}),Object(r.jsx)(f,{images:o})]})]}):Object(r.jsx)("p",{children:"Loading..."})},v=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,43)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),a(e),s(e)}))};i.a.render(Object(r.jsx)(a.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),v()}},[[42,1,2]]]);
//# sourceMappingURL=main.c0770a15.chunk.js.map